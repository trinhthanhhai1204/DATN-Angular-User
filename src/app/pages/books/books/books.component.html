<div class="container">
  <div class="products my-5">
    <div class="w-75 mx-auto">
      <div class="row mb-5 justify-content-between">
        <h3 class="w-auto">All Books</h3>
        <div class="w-auto">
          <label for="category-selector"></label>
          <select class="p-1 ms-2" id="category-selector" [(ngModel)]="currentCategory" (change)="onCategoryChange()">
            <option selected value='0'>Select Category</option>
            <option *ngFor="let category of categories" [value]="category.id">{{category.name}}</option>
          </select>
          <label for="sort-selector"></label>
          <select class="p-1 ms-2" id="sort-selector" [(ngModel)]="currentSort" (change)="onSortChange()">
            <option selected value='0'>Default Sorting</option>
            <option value='1'>Mới nhất</option>
            <option value='2'>Cũ nhất</option>
            <option value='3'>Đắt nhất</option>
            <option value='4'>Rẻ nhất</option>
          </select>
        </div>
      </div>
      <div class="row mb-5" id="books__all-books">
        <app-book class="col-3 mx-0 mb-4" *ngFor="let book of books" [book]="book"></app-book>
      </div>
    </div>
    <div class="page-btn w-75 mb-5 mx-auto">
      @if (pages > 1) {
        @if (currentPage != 0) {
          <span class="transition d-inline-block ms-2 mb-2 text-center py-2 px-3 page-prev" (click)="onPrevClick()">&#8592;</span>
        }
        <span class="transition d-inline-block ms-2 mb-2 text-center py-2 px-3" *ngFor="let i of pagesSequence" (click)="setPage(i - 1)" [ngClass]="{'bg-orange text-white': currentPage === i - 1}">{{i}}</span>
        @if (currentPage != pages - 1) {
          <span class="transition d-inline-block ms-2 mb-2 text-center py-2 px-3 page-next" (click)="onNextClick()">&#8594;</span>
        }
      }
    </div>
  </div>
</div>
